(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d718c07"],{"2f21":function(e,t,n){"use strict";var r=n("79e5");e.exports=function(e,t){return!!e&&r((function(){t?e.call(null,(function(){}),1):e.call(null)}))}},"3b94":function(e,t,n){"use strict";n.d(t,"L",(function(){return i})),n.d(t,"C",(function(){return o})),n.d(t,"D",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"X",(function(){return u})),n.d(t,"F",(function(){return c})),n.d(t,"G",(function(){return l})),n.d(t,"E",(function(){return p})),n.d(t,"A",(function(){return d})),n.d(t,"u",(function(){return m})),n.d(t,"H",(function(){return f})),n.d(t,"I",(function(){return b})),n.d(t,"g",(function(){return h})),n.d(t,"Z",(function(){return y})),n.d(t,"J",(function(){return v})),n.d(t,"h",(function(){return g})),n.d(t,"ab",(function(){return k})),n.d(t,"q",(function(){return _})),n.d(t,"w",(function(){return O})),n.d(t,"O",(function(){return x})),n.d(t,"e",(function(){return w})),n.d(t,"W",(function(){return j})),n.d(t,"x",(function(){return C})),n.d(t,"k",(function(){return S})),n.d(t,"db",(function(){return D})),n.d(t,"t",(function(){return F})),n.d(t,"v",(function(){return R})),n.d(t,"j",(function(){return $})),n.d(t,"cb",(function(){return E})),n.d(t,"s",(function(){return I})),n.d(t,"z",(function(){return P})),n.d(t,"y",(function(){return N})),n.d(t,"i",(function(){return B})),n.d(t,"bb",(function(){return V})),n.d(t,"r",(function(){return T})),n.d(t,"B",(function(){return L})),n.d(t,"S",(function(){return q})),n.d(t,"d",(function(){return U})),n.d(t,"c",(function(){return A})),n.d(t,"M",(function(){return M})),n.d(t,"P",(function(){return z})),n.d(t,"n",(function(){return H})),n.d(t,"N",(function(){return K})),n.d(t,"Q",(function(){return W})),n.d(t,"o",(function(){return Q})),n.d(t,"K",(function(){return Y})),n.d(t,"T",(function(){return J})),n.d(t,"U",(function(){return G})),n.d(t,"l",(function(){return X})),n.d(t,"R",(function(){return Z})),n.d(t,"a",(function(){return ee})),n.d(t,"b",(function(){return te})),n.d(t,"V",(function(){return ne})),n.d(t,"Y",(function(){return re})),n.d(t,"m",(function(){return ie})),n.d(t,"p",(function(){return oe}));var r=n("b775");function i(){return Object(r["a"])({url:"/mdm/sites",method:"get"})}function o(e){return Object(r["a"])({url:"/mdm/lines",method:"get",params:e})}function a(e){return Object(r["a"])({url:"/mdm/lines/"+e,method:"get"})}function s(e){return Object(r["a"])({url:"/mdm/lines",method:"post",data:e})}function u(e){return Object(r["a"])({url:"/mdm/lines",method:"put",data:e})}function c(e){return Object(r["a"])({url:"/mdm/operationType",method:"get",params:{site:e}})}function l(e){return Object(r["a"])({url:"/mdm/operations",method:"get",params:e})}function p(e){return Object(r["a"])({url:"/mdm/operationParts",method:"get",params:e})}function d(e){return Object(r["a"])({url:"/mdm/items",method:"get",params:e})}function m(e){return Object(r["a"])({url:"/mdm/item/"+e,method:"get"})}function f(e){return Object(r["a"])({url:"/mdm/productFamily/"+e,method:"get"})}function b(e){return Object(r["a"])({url:"/mdm/mtlRoutings",method:"get",params:e})}function h(e){return Object(r["a"])({url:"/mdm/mtlRoutings",method:"post",data:e})}function y(e){return Object(r["a"])({url:"/mdm/mtlRoutings",method:"put",data:e})}function v(e){return Object(r["a"])({url:"/mdm/mtlRoutingDetails",method:"get",params:{id:e}})}function g(e){return Object(r["a"])({url:"/mdm/mtlRoutingDetails",method:"post",data:e})}function k(e){return Object(r["a"])({url:"/mdm/mtlRoutingDetails",method:"put",data:e})}function _(e){return Object(r["a"])({url:"/mdm/mtlRoutingDetails",method:"delete",data:e})}function O(e){return Object(r["a"])({url:"/mdm/itemView",method:"get",params:e})}function x(e){return Object(r["a"])({url:"/mdm/itemSelectList",method:"get",params:{name:e}})}function w(e){return Object(r["a"])({url:"/mdm/createItem",method:"post",data:e})}function j(e){return Object(r["a"])({url:"/mdm/updateItem/",method:"post",data:e})}function C(e){return Object(r["a"])({url:"/mdm/itempackView",method:"get",params:e})}function S(e){return Object(r["a"])({url:"/mdm/createpackingItem",method:"post",data:e})}function D(e){return Object(r["a"])({url:"/mdm/updatepackingItem",method:"post",data:e})}function F(e,t){return Object(r["a"])({url:"/mdm/deletepackingItem/"+t,method:"post",data:e})}function R(e){return console.log(e),Object(r["a"])({url:"/mdm/itemlabelView",method:"get",params:e})}function $(e){return Object(r["a"])({url:"/mdm/createlabelItem",method:"post",data:e})}function E(e){return Object(r["a"])({url:"/mdm/updatelabelItem",method:"post",data:e})}function I(e,t){return Object(r["a"])({url:"/mdm/deletelabelItem/"+t,method:"post",data:e})}function P(e){return Object(r["a"])({url:"/mdm/itemSerialRules",method:"get",params:e})}function N(e){return Object(r["a"])({url:"/mdm/itemSerialRuleItems",method:"get",params:e})}function B(e){return Object(r["a"])({url:"/mdm/serialRules/",method:"post",data:e})}function V(e){return Object(r["a"])({url:"/mdm/serialRules",method:"put",data:e})}function T(e){return Object(r["a"])({url:"/mdm/serialRules/"+e,method:"delete"})}function L(e){return Object(r["a"])({url:"/mdm/lastUpdatedByName/"+e,method:"get"})}function q(e){return Object(r["a"])({url:"/mdm/serialruleList",method:"get",params:e})}function U(e){return Object(r["a"])({url:"/mdm/copyfromPacking/",method:"post",data:e})}function A(e){return Object(r["a"])({url:"/mdm/copyfromLabel/",method:"post",data:e})}function M(e){return Object(r["a"])({url:"/mdm/operations",method:"post",data:e})}function z(e){return Object(r["a"])({url:"/mdm/operations",method:"put",data:e})}function H(e){return Object(r["a"])({url:"/mdm/operations",method:"delete",data:{opid:e}})}function K(e){return Object(r["a"])({url:"/mdm/operationParts",method:"post",data:e})}function W(e){return Object(r["a"])({url:"/mdm/operationParts",method:"put",data:e})}function Q(e){return Object(r["a"])({url:"/mdm/operationParts",method:"delete",data:e})}function Y(e){return Object(r["a"])({url:"/mdm/routings",method:"get",params:{itemid:e}})}function J(e){return Object(r["a"])({url:"/mdm/topLevelDefectCodes",method:"get",params:{level:e}})}function G(e){return Object(r["a"])({url:"/mdm/topLevelRepairCodes",method:"get",params:{level:e}})}function X(e){return Object(r["a"])({url:"/mdm/defectCodes",method:"get",params:e})}function Z(e){return Object(r["a"])({url:"/mdm/repairCodes",method:"get",params:e})}function ee(e){return Object(r["a"])({url:"/mdm/defectCodes",method:"post",data:e})}function te(e){return Object(r["a"])({url:"/mdm/repairCodes",method:"post",data:e})}function ne(e){return Object(r["a"])({url:"/mdm/defectCodes",method:"put",data:e})}function re(e){return Object(r["a"])({url:"/mdm/repairCodes",method:"put",data:e})}function ie(e){return Object(r["a"])({url:"/mdm/defectCodes",method:"delete",data:{defectCodeId:e}})}function oe(e){return Object(r["a"])({url:"/mdm/repairCodes",method:"delete",data:{repairCodeId:e}})}},"456d":function(e,t,n){var r=n("4bf8"),i=n("0d58");n("5eda")("keys",(function(){return function(e){return i(r(e))}}))},"55dd":function(e,t,n){"use strict";var r=n("5ca1"),i=n("d8e8"),o=n("4bf8"),a=n("79e5"),s=[].sort,u=[1,2,3];r(r.P+r.F*(a((function(){u.sort(void 0)}))||!a((function(){u.sort(null)}))||!n("2f21")(s)),"Array",{sort:function(e){return void 0===e?s.call(o(this)):s.call(o(this),i(e))}})},"5eda":function(e,t,n){var r=n("5ca1"),i=n("8378"),o=n("79e5");e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},6724:function(e,t,n){"use strict";n("8d41");var r="@@wavesContext";function i(e,t){function n(n){var r=Object.assign({},t.value),i=Object.assign({ele:e,type:"hit",color:"rgba(0, 0, 0, 0.15)"},r),o=i.ele;if(o){o.style.position="relative",o.style.overflow="hidden";var a=o.getBoundingClientRect(),s=o.querySelector(".waves-ripple");switch(s?s.className="waves-ripple":(s=document.createElement("span"),s.className="waves-ripple",s.style.height=s.style.width=Math.max(a.width,a.height)+"px",o.appendChild(s)),i.type){case"center":s.style.top=a.height/2-s.offsetHeight/2+"px",s.style.left=a.width/2-s.offsetWidth/2+"px";break;default:s.style.top=(n.pageY-a.top-s.offsetHeight/2-document.documentElement.scrollTop||document.body.scrollTop)+"px",s.style.left=(n.pageX-a.left-s.offsetWidth/2-document.documentElement.scrollLeft||document.body.scrollLeft)+"px"}return s.style.backgroundColor=i.color,s.className="waves-ripple z-active",!1}}return e[r]?e[r].removeHandle=n:e[r]={removeHandle:n},n}var o={bind:function(e,t){e.addEventListener("click",i(e,t),!1)},update:function(e,t){e.removeEventListener("click",e[r].removeHandle,!1),e.addEventListener("click",i(e,t),!1)},unbind:function(e){e.removeEventListener("click",e[r].removeHandle,!1),e[r]=null,delete e[r]}},a=function(e){e.directive("waves",o)};window.Vue&&(window.waves=o,Vue.use(a)),o.install=a;t["a"]=o},"8d41":function(e,t,n){},b37b:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"components-container"},[e._m(0),e._v(" "),n("div",{staticClass:"mixin-components-container"},[n("el-row",[n("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"10px"}},[n("el-form",{ref:"packing",staticClass:"form-container",attrs:{model:e.operationForm,"label-width":"180px"}},[n("el-col",{attrs:{span:18}},[n("el-form-item",{attrs:{id:"operationname",label:"Operation Name"}},[n("Searchselect",{attrs:{placeholder:"Operation Name",name:"operation"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.findForm(t)}},model:{value:e.operationForm.optype,callback:function(t){e.$set(e.operationForm,"optype",t)},expression:"operationForm.optype"}})],1),e._v(" "),n("el-form-item",{attrs:{id:"operationdescription",label:"Operation Description"}},[n("el-input",{attrs:{placeholder:"Operation Description"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.findForm(t)}},model:{value:e.operationForm.opdesc,callback:function(t){e.$set(e.operationForm,"opdesc",t)},expression:"operationForm.opdesc"}})],1),e._v(" "),n("el-form-item",{attrs:{id:"operationpartitem",label:"Item Number"}},[n("el-col",{attrs:{span:10}},[n("el-input",{attrs:{placeholder:"Item Number"},on:{blur:e.setItem},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.findForm(t)}},model:{value:e.operationForm.itemNumber,callback:function(t){e.$set(e.operationForm,"itemNumber",t)},expression:"operationForm.itemNumber"}},[n("el-button",{attrs:{slot:"prepend",icon:"el-icon-search"},on:{click:e.handleItemModal},slot:"prepend"})],1)],1),e._v(" "),n("el-col",{attrs:{span:14}},[n("el-input",{attrs:{disabled:"disabled"},model:{value:e.operationForm.item_description,callback:function(t){e.$set(e.operationForm,"item_description",t)},expression:"operationForm.item_description"}})],1)],1)],1),e._v(" "),n("el-col",{attrs:{span:4}},[n("Btn",{attrs:{id:"operationsearchbtn",name:"search"},on:{click:e.findForm}})],1)],1)],1)],1),e._v(" "),n("el-row",[n("el-col",{staticStyle:{"padding-right":"20px"},attrs:{sm:24,md:24,lg:12}},[n("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"10px"}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("strong",[n("i",{staticClass:"el-icon-files"}),e._v(" "),n("span",[e._v("Operations")])])]),e._v(" "),n("div",{staticStyle:{"text-align":"right"}},[n("Exportexcel",{attrs:{id:"exportoperation",data:e.operations}})],1),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"operationsTable",staticStyle:{width:"100%","margin-bottom":"10px",height:"500px",overflow:"auto"},attrs:{id:"operationlist",data:e.operations,border:"",fit:"","highlight-current-row":""},on:{"current-change":e.handleCurrentOperation}},[n("el-table-column",{attrs:{label:"Operation",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.edit?n("span",[n("el-input",{nativeOn:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.modifyOpData(r)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;r.edit=!r.edit}]},model:{value:r.optype,callback:function(t){e.$set(r,"optype",t)},expression:"row.optype"}})],1):n("span",[e._v(e._s(r.optype))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Description"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.edit?n("span",[n("el-input",{nativeOn:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.modifyOpData(r)},function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;r.edit=!r.edit}]},model:{value:r.opdesc,callback:function(t){e.$set(r,"opdesc",t)},expression:"row.opdesc"}})],1):n("span",[e._v(e._s(r.opdesc))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Actions",width:"230","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.edit?n("span",[n("Btn",{attrs:{name:"confirm"},on:{click:function(t){return e.modifyOpData(r)}}}),e._v(" "),n("Btn",{attrs:{name:"cancel"},on:{click:function(e){r.edit=!r.edit}}})],1):n("span",[n("Btn",{attrs:{name:"edit"},on:{click:function(e){r.edit=!r.edit}}}),e._v(" "),n("Btn",{attrs:{name:"delete"},on:{click:function(t){return e.deleteOpData(r)}}})],1)]}}])})],1),e._v(" "),n("Btn",{attrs:{id:"createoperationbtn",name:"create"},on:{click:function(t){return e.handleCreateModal("o")}}})],1)],1),e._v(" "),n("el-col",{attrs:{sm:24,md:24,lg:12}},[n("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"10px"}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("strong",[n("i",{staticClass:"el-icon-files"}),e._v(" "),n("span",[e._v("Related Routings")])])]),e._v(" "),n("div",{staticStyle:{"text-align":"right"}},[n("Exportexcel",{attrs:{id:"exportrouting",data:e.routings}})],1),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"routingsTable",staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{id:"routinglist",data:e.routings,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"Assy Item Number",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[n("span",[e._v(e._s(r.assy_item_number))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Routing Description",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[n("span",[e._v(e._s(r.routing_desc))])]}}])})],1)],1)],1)],1),e._v(" "),n("el-row",[n("el-card",{staticClass:"box-card",staticStyle:{"margin-bottom":"10px"}},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("strong",[n("i",{staticClass:"el-icon-files"}),e._v(" "),n("span",[e._v("Traceable Parts")])])]),e._v(" "),n("div",{staticStyle:{"text-align":"right"}},[n("Exportexcel",{attrs:{id:"exportoperationpart",data:e.operationParts}})],1),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.listLoading,expression:"listLoading"}],key:e.tableKey,ref:"opPartsTable",staticStyle:{width:"100%","margin-bottom":"10px"},attrs:{id:"operationpartlist",data:e.operationParts,border:"",fit:"","highlight-current-row":""}},[n("el-table-column",{attrs:{label:"Item Number",align:"left","min-width":"120",fixed:""},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.edit?n("span",[n("el-input",{on:{blur:function(t){return e.changeItemId(r)}},nativeOn:{keyup:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;r.edit=!r.edit},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.modifyPartData(r)}]},model:{value:r.item_number,callback:function(t){e.$set(r,"item_number",t)},expression:"row.item_number"}})],1):n("span",[e._v(e._s(r.item_number))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Barcode Type",align:"left","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.edit?n("span",[n("el-input",{nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.modifyPartData(r)}},model:{value:r.barcode_type,callback:function(t){e.$set(r,"barcode_type",t)},expression:"row.barcode_type"}})],1):n("span",[e._v(e._s(r.barcode_type))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Indicator",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.edit?n("span",[n("el-input",{nativeOn:{keyup:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;r.edit=!r.edit},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.modifyPartData(r)}]},model:{value:r.indicator,callback:function(t){e.$set(r,"indicator",t)},expression:"row.indicator"}})],1):n("span",[e._v(e._s(r.indicator))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Location",align:"left","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.edit?n("span",[n("el-input",{attrs:{size:"mini"},nativeOn:{keyup:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;r.edit=!r.edit},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.modifyPartData(r)}]},model:{value:r.location,callback:function(t){e.$set(r,"location",t)},expression:"row.location"}})],1):n("span",[e._v(e._s(r.location))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Length",align:"left","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.edit?n("span",[n("el-input-number",{attrs:{size:"mini"},nativeOn:{keyup:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;r.edit=!r.edit},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.modifyPartData(r)}]},model:{value:r.length,callback:function(t){e.$set(r,"length",t)},expression:"row.length"}})],1):n("span",[e._v(e._s(r.length))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Routing",align:"left","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.edit?n("span",[n("Searchselect",{attrs:{name:"yn"},model:{value:r.routing_exist,callback:function(t){e.$set(r,"routing_exist",t)},expression:"row.routing_exist"}})],1):n("span",[e._v(e._s(r.routing_exist))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Unique",align:"left","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.edit?n("span",[n("Searchselect",{attrs:{name:"yn"},model:{value:r.unique_check,callback:function(t){e.$set(r,"unique_check",t)},expression:"row.unique_check"}})],1):n("span",[e._v(e._s(r.unique_check))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Traceability",align:"left","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.edit?n("span",[n("Searchselect",{attrs:{name:"yn"},model:{value:r.traceability,callback:function(t){e.$set(r,"traceability",t)},expression:"row.traceability"}})],1):n("span",[e._v(e._s(r.traceability))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Seperator",align:"left","min-width":"140"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.edit?n("span",[n("el-input-number",{attrs:{size:"mini"},nativeOn:{keyup:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"]))return null;r.edit=!r.edit},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.modifyPartData(r)}]},model:{value:r.seperator,callback:function(t){e.$set(r,"seperator",t)},expression:"row.seperator"}})],1):n("span",[e._v(e._s(r.seperator))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"Actions",align:"center","min-width":"250","class-name":"small-padding fixed-width",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.row;return[r.edit?n("span",[n("Btn",{attrs:{name:"confirm"},on:{click:function(t){return e.modifyPartData(r)}}}),e._v(" "),n("Btn",{attrs:{name:"cancel"},on:{click:function(e){r.edit=!1}}})],1):n("span",[n("Btn",{attrs:{name:"edit"},on:{click:function(e){r.edit=!0}}}),e._v(" "),n("Btn",{attrs:{name:"delete"},on:{click:function(t){return e.deletePartData(r)}}})],1)]}}])})],1),e._v(" "),n("Btn",{attrs:{id:"createoperationpartbtn",name:"create"},on:{click:function(t){return e.handleCreateModal("p")}}})],1)],1)],1),e._v(" "),n("LOVItem",{attrs:{"dialog-visible":e.itemDialogVisible,"input-item":e.operationForm.itemNumber},on:{applyItem:e.selectItem}}),e._v(" "),n("el-dialog",{attrs:{title:"Create Operation",visible:e.operationDialogVisible},on:{"update:visible":function(t){e.operationDialogVisible=t},"before-close":function(t){e.operationDialogVisible=!1}}},[n("el-row",{staticStyle:{"margin-bottom":"10px"}},[n("el-col",{attrs:{span:24}},[n("p",[e._v("If you add a new operation, the operation in the operation list will be applied after refreshing a page.")])])],1),e._v(" "),n("el-form",{ref:"coForm",staticStyle:{"margin-left":"50px"},attrs:{rules:e.oprules,model:e.optemp,"label-position":"left","label-width":"100px"}},[n("el-col",{attrs:{span:12}},[n("el-form-item",{attrs:{label:"Operation",prop:"op"}},[n("el-input",{model:{value:e.optemp.op,callback:function(t){e.$set(e.optemp,"op",t)},expression:"optemp.op"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:12}},[[n("Searchselect",{attrs:{placeholder:"Operation Type",name:"operation"},on:{change:e.copyOperation},model:{value:e.optemp.optype,callback:function(t){e.$set(e.optemp,"optype",t)},expression:"optemp.optype"}})]],2),e._v(" "),n("el-col",{attrs:{span:24}},[n("el-form-item",{attrs:{label:"Description",prop:"opdesc"}},[n("el-input",{model:{value:e.optemp.opdesc,callback:function(t){e.$set(e.optemp,"opdesc",t)},expression:"optemp.opdesc"}})],1)],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("Btn",{attrs:{name:"confirm"},on:{click:e.createOpData}}),e._v(" "),n("Btn",{attrs:{name:"cancel"},on:{click:function(t){e.operationDialogVisible=!1}}})],1)],1),e._v(" "),n("el-dialog",{attrs:{title:"Create Operation Parts",visible:e.opPartsDialogVisible},on:{"update:visible":function(t){e.opPartsDialogVisible=t},"before-close":function(t){e.opPartsDialogVisible=!1}}},[n("el-row",[n("el-col",{attrs:{lg:24}},[n("p",[e._v("* Barcode Type value is only 'A' now. this will be updated further version.")])])],1),e._v(" "),n("el-form",{ref:"copForm",staticStyle:{"margin-left":"50px"},attrs:{rules:e.partrules,model:e.opptemp,"label-position":"left","label-width":"120px"}},[n("el-form-item",{attrs:{label:"Item Number",prop:"item_number"}},[n("el-input",{on:{blur:e.setItemId},model:{value:e.opptemp.item_number,callback:function(t){e.$set(e.opptemp,"item_number",t)},expression:"opptemp.item_number"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Barcode Type",prop:"barcode_type"}},[n("el-input",{attrs:{readonly:""},model:{value:e.opptemp.barcode_type,callback:function(t){e.$set(e.opptemp,"barcode_type",t)},expression:"opptemp.barcode_type"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Indicator",prop:"indicator"}},[n("el-input",{model:{value:e.opptemp.indicator,callback:function(t){e.$set(e.opptemp,"indicator",t)},expression:"opptemp.indicator"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Seperator",prop:"seperator"}},[n("el-input-number",{model:{value:e.opptemp.seperator,callback:function(t){e.$set(e.opptemp,"seperator",t)},expression:"opptemp.seperator"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Location",prop:"location"}},[n("el-input",{model:{value:e.opptemp.location,callback:function(t){e.$set(e.opptemp,"location",t)},expression:"opptemp.location"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Length",prop:"length"}},[n("el-input-number",{model:{value:e.opptemp.length,callback:function(t){e.$set(e.opptemp,"length",t)},expression:"opptemp.length"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Routing Exist",prop:"routing_exist"}},[n("Searchselect",{attrs:{name:"yn"},model:{value:e.opptemp.routing_exist,callback:function(t){e.$set(e.opptemp,"routing_exist",t)},expression:"opptemp.routing_exist"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Unique Check",prop:"unique_check"}},[n("Searchselect",{attrs:{name:"yn"},model:{value:e.opptemp.unique_check,callback:function(t){e.$set(e.opptemp,"unique_check",t)},expression:"opptemp.unique_check"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"Traceability",prop:"traceability"}},[n("Searchselect",{attrs:{name:"yn"},model:{value:e.opptemp.traceability,callback:function(t){e.$set(e.opptemp,"traceability",t)},expression:"opptemp.traceability"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("Btn",{attrs:{name:"confirm"},on:{click:e.createPartData}}),e._v(" "),n("Btn",{attrs:{name:"cancel"},on:{click:function(t){e.opPartsDialogVisible=!1}}})],1)],1)],1)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",[n("strong",[e._v("Operation Control Management")])])}],o=(n("55dd"),n("96cf"),n("1da1")),a=n("5530"),s=n("2f62"),u=n("0143"),c=n("0ce0"),l=n("e763"),p=n("14e0"),d=n("3b94"),m={itemNumber:"",itemid:null,optype:"",opdesc:"",item_description:""},f={name:"OperationControl",components:{Searchselect:u["a"],LOVItem:l["a"],Exportexcel:c["a"],Btn:p["a"]},props:{isEdit:{type:Boolean,default:!1},routerOperationForm:{type:Object,default:null}},data:function(){return{operationForm:Object.assign({},m),tableKey:0,total:0,listLoading:!1,listQuery:{page:1,limit:10,sort:0,site:void 0,name:void 0,alias:void 0},itemForm:null,operations:[],operationParts:[],routings:[],currentItem:null,currentOperation:null,optemp:{},opptemp:{},opOptions:[{value:"Y",label:"Y"},{value:"N",label:"N"},{value:"",label:""}],itemDialogVisible:!1,operationDialogVisible:!1,opPartsDialogVisible:!1,oprules:{op:[{required:!0,message:"operation name is required",trigger:"change"}],opdesc:[{required:!0,message:"description is required",trigger:"blur"}]},partrules:{item_number:[{required:!0,message:"item number is required",trigger:"change"}]}}},computed:Object(a["a"])({},Object(s["b"])(["site","userid","lang"])),mounted:function(){this.operationSearchInitialize()},methods:{operationSearchInitialize:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.routerOperationForm){e.next=8;break}return this.operationForm.optype=this.routerOperationForm.optype,this.operationForm.opdesc=this.routerOperationForm.opdesc,this.operationForm.itemNumber=this.routerOperationForm.itemNumber,e.next=6,this.setItem();case 6:return e.next=8,this.findForm();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),sortChange:function(e){var t=e.prop,n=e.order;"id"===t&&this.sortByID(n)},getSortClass:function(e){var t=this.listQuery.sort;return t==="+".concat(e)?"ascending":"descending"},resetTemp:function(){this.optemp={op:"",optype:"",opdesc:"",site:this.site,userid:this.userid},this.opptemp={opid:void 0,item_number:"",itemid:void 0,barcode_type:"",indicator:"",seperator:"",location:null,length:null,routing_exist:"",unique_check:"",traceability:"",site:this.site,userid:this.userid}},handleItemModal:function(){this.itemDialogVisible=!0},handleCreateModal:function(e){var t=this;this.resetTemp(),"o"===e?(this.operationDialogVisible=!0,this.$nextTick((function(){t.$refs.coForm.resetFields(),t.optemp.optype=null}))):this.currentOperation?(this.opPartsDialogVisible=!0,this.$nextTick((function(){t.$refs.copForm.resetFields(),t.opptemp.barcode_type="A"}))):this.$notify({title:"Error",message:"Please select an operation.",type:"error",duration:2e3})},handleCurrentOperation:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=12;break}return this.routings=[],this.operationParts=[],this.currentOperation=t,e.next=6,Object(d["K"])(this.currentOperation.id);case 6:return n=e.sent,this.routings=n,e.next=10,Object(d["E"])({opid:this.currentOperation.id});case 10:r=e.sent,this.operationParts=r.map((function(e){return i.$set(e,"edit",!1),e}));case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),setItem:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.operationForm.item_description="",!this.operationForm.itemNumber){e.next=7;break}return t={itemNumber:this.operationForm.itemNumber,site:this.site},e.next=5,Object(d["A"])(t);case 5:n=e.sent,null!=n[0].item_description&&(this.operationForm.item_description=n[0].item_description);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),setItemId:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.opptemp.item_number){e.next=6;break}return t={itemNumber:this.opptemp.item_number,site:this.site},e.next=4,Object(d["A"])(t);case 4:n=e.sent,this.opptemp.itemid=n[0].item_id;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),selectItem:function(e){e&&(this.operationForm.itemNumber=e.item_number),this.itemDialogVisible=!1},getSelectOpType:function(e){this.operationForm.optype=e},findForm:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.operations=[],this.routings=[],this.operationParts=[],this.operationForm.itemNumber=this.fieldUpperCase(this.operationForm.itemNumber),e.next=6,Object(d["G"])(this.operationForm);case 6:t=e.sent,t.length>0&&(this.operations=t.map((function(e){return n.$set(e,"edit",!1),e})),this.handleCurrentOperation(t[0]));case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),createOpData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs["coForm"].validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=9;break}return t.optemp.op=t.fieldUpperCase(t.optemp.op),t.optemp.site=t.site,t.optemp.userid=t.userid,e.next=6,Object(d["M"])(t.optemp);case 6:t.operationForm.opdesc=t.optemp.opdesc,t.findForm(),t.operationDialogVisible=!1;case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),modifyOpData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.optype||!t.opdesc){e.next=8;break}return n={id:t.id,opdesc:t.opdesc,optype:this.fieldUpperCase(t.optype),site:this.site,userid:this.userid},e.next=4,Object(d["P"])(n);case 4:this.findForm(),this.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3}),e.next=9;break;case 8:this.$notify({title:"Error",message:"Operation Type and Description must not be empty.",type:"error",duration:2e3});case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deleteOpData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.operationParts.length>0?this.$notify({title:"Error",message:"If you want to delete the operation, please delete its operation parts information first.",type:"error",duration:2e3}):this.$confirm("This will permanently be deleted. Continue?","Warning",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["n"])(t.id);case 2:n.findForm(),n.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}),n.operationDialogVisible=!1;case 5:case"end":return e.stop()}}),e)})))).catch((function(){}));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),createPartData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$refs["copForm"].validate(function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=12;break}if(!t.opptemp.itemid){e.next=11;break}return t.opptemp.item_number=t.fieldUpperCase(t.opptemp.item_number),t.opptemp.userid=t.userid,t.opptemp.opid=t.currentOperation.id,e.next=7,Object(d["N"])(t.opptemp);case 7:t.handleCurrentOperation(t.currentOperation),t.opPartsDialogVisible=!1,e.next=12;break;case 11:t.$notify({title:"Error",message:"Please correct item number.",type:"error",duration:2e3});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),changeItemId:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={itemNumber:t.item_number,site:this.site},e.next=3,Object(d["A"])(n);case 3:r=e.sent,t.old_itemid=t.itemid,t.itemid=r[0].item_id;case 6:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),modifyPartData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.item_number=this.fieldUpperCase(t.item_number),n=t,n.userid=this.userid,e.next=5,Object(d["Q"])(n);case 5:t.edit=!1,this.$notify({title:"Success",message:"Update Successfully",type:"success",duration:2e3}),this.opPartsDialogVisible=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),deletePartData:function(){var e=Object(o["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$confirm("This will permanently be deleted. Continue?","Warning",{confirmButtonText:"Delete",cancelButtonText:"Cancel",type:"warning"}).then(Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(d["o"])(t);case 2:n.$notify({title:"Success",message:"Delete Successfully",type:"success",duration:2e3}),n.handleCurrentOperation(n.currentOperation);case 4:case"end":return e.stop()}}),e)})))).catch((function(){}));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),copyOperation:function(){this.optemp.op=this.optemp.optype},fieldUpperCase:function(e){return e?e.toUpperCase().trim():null}}},b=f,h=n("2877"),y=Object(h["a"])(b,r,i,!1,null,null,null);t["default"]=y.exports}}]);